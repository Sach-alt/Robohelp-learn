<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="UTF-8"/><title>‎Broadband Internet access service</title><meta name="generator" content="Adobe RoboHelp 2019"/><link rel="stylesheet" href="../assets/css/default.css"/><link rel="stylesheet" href="../assets/css/PortaBilling_Admin_Guide_MR82.css"/></head><body><div><h2><br/>‎<a id="_Toc31205444"></a><span>Broadband Internet access service</span></h2><p>PortaBilling® is a versatile tool, and the range of services that can be billed extends far beyond the realm of VOIP. With many VOIP providers also (or primarily) being ISPs, billing Internet access is naturally high on the priority list.</p><h4>Supported services</h4><p>PortaBilling® supports various billing models for Internet access:</p><ul data-start="337" xmlns=""><li>Fixed bandwidth with unlimited amount of traffic, monthly fee.</li><li>Fixed traffic (quota) at maximum bandwidth, monthly fee.</li><li>Per-megabyte charges at fixed or maximum bandwidth.</li><li>Per-minute charges at fixed or maximum bandwidth.</li></ul><p> </p><p>All the models are supported when PortaBilling® communicates directly with a Network Access Server (NAS). In this case, it acts as an AAA, including bandwidth/quota control, accumulating usage statistics for user reference, and disconnecting users upon suspension, reached quota or account expiry.</p><p> </p><p>There is also an option to use third-party service controllers (bandwidth/quota control), which are automatically provisioned from PortaBilling®. Only first two models are supported in this case.</p><h3>Provisioning</h3><p>PortaBilling® allows you to manage the provisioning of Internet access services when a user establishes a session with your NAS (Network Access Server) for further Internet access. PortaBilling® performs the session authorization (validating that this user is allowed to use this service and what the maximum allowed session time is) and, when the connection is terminated, deducts the cost from the customer’s balance according to the session time and the specified rate (for the special destination NETACCESS).</p><p>NOTE: As a good practice we recommend that you configure your equipment to send keep-alive messages to PortaBilling® at least every 2 hours while you are using Internet access services. Note that PortaBilling® applies a single rate for a session between two keep-alive messages, even if it spans peak and off-peak periods. Therefore, to ensure billing accuracy, make keep-alive intervals shorter for scenarios where there are different rates involved.</p><p> </p><p></p><p> </p><ol data-start="1" xmlns=""><li>A CPE device (for instance, a DSL modem or PPPoE client on a desktop computer) connects to a NAS (gateway) requesting that a new session be established. The protocol used for the session between the CPE and NAS (e.g. PPP or PPPoE) may differ depending on the access technology used, but from the billing perspective this is irrelevant.</li><li>The NAS forwards account information to PortaBilling® for authentication using RADIUS. Porta Billing verifies the account information:</li></ol><ul data-start="1.361" xmlns=""><li><ul data-start="1.361"><li>credentials (“is the account valid?”),</li><li>balance/quota (“does the account have enough funds/traffic quota/minutes?”),</li></ul></li></ul><p>and returns the result to the NAS.</p><p>Additional information regarding the session (e.g. static IP address) may be returned from the billing to NAS.</p><ol data-start="3" xmlns=""><li>If the account is successfully authenticated, the NAS establishes the session so the end user can access the Internet.</li><li>While the connection is active, the NAS sends periodic updates about the amount of data transferred within the session, and PortaBilling® repeatedly checks the validity and balance of the account (re-authorizes it). If the account has a megabytes/minutes quota, PortaBilling® instructs the NAS to disconnect the session as soon as the quota is reached.<br/>‎<span></span></li></ol><p>PortaBilling® can be used as a back-end for any NAS which uses a Cisco-compatible RADIUS protocol.</p><h3>Controlling bandwidth</h3><p>PortaBilling® allows you to control the amount of Internet bandwidth allocated to various types of customers or to even override the default bandwidth policy for an individual customer.</p><p> </p><p>In order to better oversee network utilization, it is very important for an ISP to control the bandwidth available for specific types of customers throughout the day. This includes, for instance, limiting the amount of bandwidth consumed by residential customers during business hours, thus ensuring that business customers receive adequate service; or creating special products for accessing the Internet at maximum speed during nighttime hours, when the network is underutilized.</p><h4>Internet access policy</h4><p>A policy is a collection of rules and parameters which define how an end user is allowed to access the Internet.</p><p> </p><p><img src="../assets/images/PortaBilling_Admin_Guide_MR82_files/image217.png" width="460.2" height="243.2" alt="Speed limits definition"/></p><p> </p><p>There are four available types of Internet access:</p><ul data-start="341" xmlns=""><li>Regular access (default).</li><li>Turbo access – Access during off-peak hours.</li><li>Blocked service (the customer is not able to access the Internet at all).</li><li>Limited access. Typically this is used as an alternative to “blocked” in situations where a customer does not have sufficient funds or failed to pay his last invoice on time. While the customer will not be able to surf the web or download normally, he can still send or receive emails and use the customer self-care interface to submit payment.<p> </p><p>Each policy includes:</p></li><li>A scheduling table, which designates what type of access is used during each time period.</li><li>Specific values for the allowed upload / download speed for each type.</li></ul><p> </p><p>When a new period starts, PortaBilling® sends a request to NAS to change the parameters of the current session. This is done using CoA (Change-of-Authorization), for equipment which supports it (in this case the bandwidth re-allocation is done transparently to the end user), or POD (Packet of Disconnect, which terminates the current session).  </p><h3>Rating data</h3><p>Since Internet access is an “always-on” service, billing is typically done in real time, based on RADIUS update (“keep-alive”) requests received from the NAS; thus many keep-alive requests may be combined into a single xDR. In order to provide detailed information on the charges applied, the contents of each update request are stored in the PortaBilling® internal tables, and both summaries and detailed data can be browsed on the PortaBilling® web interface.</p><h3>Data transfer quotas </h3><p>Data transfer quotas function in a similar way to volume discounts for services such as voice calls. You can define combinations of data transfer thresholds, along with the applicable discounts, e.g. the first 5GB free (100% discount ), after which the customer is charged the normal rate ($0.01/MB).</p><p> </p><p>You also have the ability to adjust the service itself once a threshold is reached, e.g. when the customer exceeds 5GB his download speed will be severely reduced (but he can still use the web, email and the like). If he continues to use the service in an abusive manner, and so exceeds 6GB, the service will be automatically blocked.</p><h3>Service shutdown</h3><p>PortaBilling® can initiate the disconnection of a session in progress on NAS; for instance, if it is determined that the customer has exceeded the allowed data transfer limit, or if the customer has been suspended due to non-payment. In this case, PortaBilling® sends NAS a POD (Packet of Disconnect).</p><h3>Rating configuration </h3><h4>WiFi</h4><p>The rate for this special destination will be used to charge your customers  for WiFi access service.</p><h4>NETACCESS</h4><p>The rate for this special destination will be used to charge your customers  for Internet access service such as DSL, PPPoE or WiMAX.</p><h3>Routed network provisioning</h3><p>In cases when a customer needs to purchase an entire IP-network from the ISP, PortaBilling® provides the option for configuring the routing information for the customer’s IP-networks on the NAS. To do this, the administrator must indicate the network prefix, the length of the network prefix mask and the gateway IP address in the Routed Networks attribute. This routing information will then be automatically propagated to NAS each time the customer connects.</p></div></body></html>