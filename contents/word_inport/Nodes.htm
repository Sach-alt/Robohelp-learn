<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="UTF-8"/><title>Nodes</title><meta name="generator" content="Adobe RoboHelp 2019"/><link rel="stylesheet" href="../assets/css/default.css"/><link rel="stylesheet" href="../assets/css/PortaBilling_Admin_Guide_MR82.css"/></head><body><div><h2><a id="_OLI-based_Billing"></a><a id="_Toc133593921"></a><a id="_Toc31205387"></a>Nodes</h2><p>Nodes are your gateways for facilitating calls, providing Internet access via WiFi, sending messages, or supplying any other type of service to the end user. Perhaps the most important feature of a node is that it can ask the billing for authentication or authorization and send accounting information to the billing system. It is very important that we exchange AAA data only with trusted gateways, also called trusted nodes. Usually, if this gateway is not owned by your company, but rather by your partner or customer, it will not be considered trusted, and so will not be created as a node in PortaBilling速.</p><h3><a id="_Ref28322906"></a>Node ID, NAS IP address, and Radius source IP</h3><p>What is the difference between these terms?</p><ul data-start="112" xmlns=""><li>Radius source IP address is the address that radius requests (UDP packets) come from. Radius will accept requests only from those IP addresses which are listed as Radius source IP for one of the nodes. This is used as protection against denial-of-service attacks and attempts to send fraudulent information to the billing system.</li><li>NAS-IP-Address is the IP address of the gateway used for VoIP purposes. This address will be present in the radius data as the NAS-IP-Address attribute, and is used to identify which node sent the request. Usually Radius source IP is the same as NAS-IP-Address, except in a situation when your gateway has two network interfaces, using one (internal) to communicate with the billing system and the other (external) for VoIP traffic.</li><li>All of the incoming VoIP calls should be authenticated (see the <a href="https://www.portaone.com/handbook/Wholesale_Services/Configuration_Examples_for_Cisco_Gateways/Configuration_Examples_for_Cisco_Gateways.htm">Implement Authentication For Incoming Voip Calls</a> section in the Unified PortaSwitch Handbook Collection for more details.). This also applies when a call comes from your gateway A to your gateway B. When node B (the terminating node) consults PortaBilling速 as to whether the call should be allowed, it will send an authentication request to PortaBilling速 with a User-Name containing some identification of the remote gateway. What information is used for identification depends on the application, but typically this is the IP address of the remote gateway. PortaBilling速 will check if there is a node with such a Node ID, and, if so, the call will be allowed. <p>NOTE: You can only specify your own custom Node ID if you have enabled this advanced feature. Normally this is not required, and by default Node ID equals the NAS-IP-Address.</p><p>In most cases, all three parameters (NAS-IP-Address, Radius Source IP and Node IP) are the same.</p></li></ul></div></body></html>