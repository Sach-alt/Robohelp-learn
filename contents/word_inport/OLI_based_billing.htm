<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="UTF-8"/><title>OLI-based billing</title><meta name="generator" content="Adobe RoboHelp 2019"/><link rel="stylesheet" href="../assets/css/default.css"/><link rel="stylesheet" href="../assets/css/PortaBilling_Admin_Guide_MR82.css"/></head><body><div><h2><a id="_Toc31205430"></a>OLI-based billing</h2><p>Vendors that provide toll-free numbers to service providers can charge a different price for calls that originate from a payphone or a paystation. </p><p> </p><p>With PortaSwitch®, service providers can take call origination into account when charging their customers and calculating calls’ cost on the incoming connections (Calls from Vendor via SIP and Calls from Vendor via PSTN).</p><p> </p><p>Call origination type is determined based on the Origination Line Information (OLI) parameter. The OLI is transmitted over PSTN networks as signals. There is no common standard for carrying OLI over SIP, but one popular way is to use the isup-oli SIP URI parameter and include it in the SIP INVITE message, notably in the From header. </p><p> </p><p>For example, for calls made from a payphone, the From header may look like the following:</p><p> </p><p>From: &quot;18005551155&quot; &lt;sip:18005551155@111.11.11.11:5060;isup-oli=27&gt;;tag=gK037dd60b</p><p> </p><p>PortaSIP® extracts this value and assigns it to the Originating-Line-Info RADIUS attribute which will be then passed to PortaBilling®:</p><p> </p><p>NAS-IP-Address = &#39;111.11.11.11&#39;<br/>‎<span>User-Name = &#39;18005551155&#39;</span></p><p>…..</p><p>Originating-Line-Info = &#39;27&#39; </p><p>…</p><p> </p><p>Using this value, the billing engine seeks a rating entry that can match it, and if one is found, it both charges for the call and calculates the call cost accordingly.  </p><h4>OLI (Info Digits) </h4><p>OLI digit pairs and their descriptions are represented in the following table:  </p><p> </p><div align="left"><table border="1.3" cellspacing="0" style="width:468.0px"><colgroup xmlns=""><col style="width:84px"/><col style="width:384px"/></colgroup><tbody><tr><td><p>Value</p></td><td><p>Description</p></td></tr><tr><td><p>0</p></td><td><p>pots</p></td></tr><tr><td><p>1</p></td><td><p>multiparty line</p></td></tr><tr><td><p>2</p></td><td><p>ANI failure</p></td></tr><tr><td><p>6</p></td><td><p>Station Level Rating</p></td></tr><tr><td><p>7</p></td><td><p>special operator handling required</p></td></tr><tr><td><p>8</p></td><td><p>inter-LATA restricted</p></td></tr><tr><td><p>10</p></td><td><p>test call</p></td></tr><tr><td><p>20</p></td><td><p>AIOD-listed DN sent</p></td></tr><tr><td><p>23</p></td><td><p>coin or non coin on calls using database access</p></td></tr><tr><td><p>24</p></td><td><p>800 service call</p></td></tr><tr><td><p>25</p></td><td><p>800 service call from a pay station</p></td></tr><tr><td><p>27</p></td><td><p>payphone using coin control signaling</p></td></tr><tr><td><p>29</p></td><td><p>prison or inmate service</p></td></tr><tr><td><p>30</p></td><td><p>intercept (blank)</p></td></tr><tr><td><p>31</p></td><td><p>intercept (trouble)</p></td></tr><tr><td><p>32</p></td><td><p>intercept (regular)</p></td></tr><tr><td><p>34</p></td><td><p>telco operator handled call</p></td></tr><tr><td><p>36</p></td><td><p>CPE</p></td></tr><tr><td><p>52</p></td><td><p>OUTWATS</p></td></tr><tr><td><p>60</p></td><td><p>TRS call from unrestricted line</p></td></tr><tr><td><p>61</p></td><td><p>wireless or cellular PCS (type 1)</p></td></tr><tr><td><p>62</p></td><td><p>wireless or cellular PCS (type 2)</p></td></tr><tr><td><p>63</p></td><td><p>wireless or cellular PCS (roaming)</p></td></tr><tr><td><p>66</p></td><td><p>TRS call frm restricted line</p></td></tr><tr><td><p>67</p></td><td><p>TRS call from restricted line</p></td></tr><tr><td><p>68</p></td><td><p>inter-LATA restricted hotel</p></td></tr><tr><td><p>70</p></td><td><p>private paystations</p></td></tr><tr><td><p>78</p></td><td><p>inter-LATA restricted coinless</p></td></tr><tr><td><p>93</p></td><td><p>private virtual network</p></td></tr></tbody></table></div><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p></div></body></html>