<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="UTF-8"/><title>Limiting per-account simultaneous calls on a product</title><meta name="generator" content="Adobe RoboHelp 2019"/><link rel="stylesheet" href="../assets/css/default.css"/><link rel="stylesheet" href="../assets/css/PortaBilling_Admin_Guide_MR82.css"/></head><body><div><ul data-start="303" xmlns=""><li><h2><a id="_Toc371581331"></a><a id="_Toc31205432"></a>Limiting per-account simultaneous calls on a product</h2><p>Fair usage policy is very important for every ITSP. Let’s assume that you have a product that supplies your residential customers with an unlimited number of minutes for making free calls to the USA. If you don’t want someone to use those free minutes via their PBX by making many simultaneous calls, you can set the limit for two simultaneous calls. </p><p> </p><p>Fair usage policy is configured on the Product’s Service Configuration tab, where this functionality can be enabled and the limits defined for simultaneous, incoming, outgoing and forwarded calls.  </p><p> </p><p><img src="../assets/images/PortaBilling_Admin_Guide_MR82_files/image201.png" width="460.2" height="280.3" alt="Fair usage policy"/></p><p> </p><p>This functionality can be useful for the following situations:</p></li><li>You have a SmartCall product that supplies your customers with free domestic calls. There is a new customer who buys this product from you. You supply them with credentials to use the services. To ensure that services are for personal use only and that nobody can use them with an office PBX (to send hundreds of calls from their call center free of charge), the administrator can set the Maximum Number of Simultaneous Calls for the SmartCall product to 2. <p> </p></li><li>The administrator sets the Maximum Number of Outgoing Calls to 100 for the SmartCall product. This product is assigned to the customer who has his own call center. If the customer needs more simultaneous outgoing calls he can buy another product that offers that. </li></ul><ul data-start="1.348" xmlns=""><li><ul data-start="1.348"><li></li></ul></li></ul><ul data-start="308" xmlns=""><li>The administrator enables call forwarding functionality and sets the Maximum Number of Forwarded Calls to 2 for the SmartCall product. This allows each user to forward 2 calls coming simultaneously to their SIP phone to their mobile and landline numbers when they are out of the office.<p> </p><p>PortaBilling® only limits billable calls – calls for which PortaBilling® produces xDRs and applies charges to an account. These are transferred calls (charged with the tariff matched by the TRANSFER access code), redirected calls (e.g. calls that arrive to an auto attendant from external networks) and calls forwarded to off-net destinations (charged with the tariff matched by the FOLLOWME access code). If a final forwarding destination is a SIP account, the limit on forwarded calls is not applied.</p><p> </p><p>For more detailed information on limiting forwarded calls consult Limiting calls forwarded to off-net destinations section in the <a href="https://www.portaone.com/docs/PortaSIP_Admin_Guide.pdf">PortaSIP® Administrator Guide</a>. </p><p> </p><p>This functionality can help you prevent fraud and service abuse of the products that provide your customers with free calls.</p><h3>Limits on calls in progress</h3><p>Sometimes a customer’s SIP gateway (e.g. an auto-dialer) produces many call attempts when trying to reach a destination that does not answer, and by doing so, the system becomes overloaded.</p><p> </p><p>Another example is “cross-forwarding” in which forwarding is configured for the same user, both in the SIP network (e.g. from an extension to a mobile phone) and in the mobile network (e.g. from the mobile phone to an extension). As a result, the call “loops” and is processed as separate call attempts to the mobile network.</p><p> </p><p>These numerous call attempts consume system resources for authorization and routing, and consequently slow down the system and affect normal call processing.</p><p> </p><p>Therefore, to increase system stability and prevent its overload, both connected and calls in progress are considered when limiting the number of simultaneous calls.</p><p> </p><p>As soon as a limit is set on simultaneous calls for a given customer, customer site or account (as part of product configuration), PortaBilling® requests notifications from PortaSIP® about this customer’s calls in progress. </p><p> </p><p>This is so that if excessive call attempts occur, the limit on simultaneous calls will quickly be reached and subsequent call attempts will be rejected. The administrator can also track calls that are in progress on the Active Sessions page.</p><p> </p><p>The ability to limit connecting calls serves as an additional tool against DoS attacks while improving overall system security.</p></li></ul></div></body></html>