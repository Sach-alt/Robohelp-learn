<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="UTF-8"/><title>Account and account types</title><meta name="generator" content="Adobe RoboHelp 2019"/><link rel="stylesheet" href="../assets/css/default.css"/><link rel="stylesheet" href="../assets/css/PortaBilling_Admin_Guide_MR82.css"/></head><body><div><h2><a id="_Toc31205380"></a>Account and account types</h2><p>An account identifies the end user who is using the service. For example, a prepaid calling card is an account identified by a PIN, while a customer’s VoIP gateway could be an account identified by its IP address, and a SIP phone is identified by its phone number. There are two main types of accounts (debit and credit) plus an auxiliary one (voucher).</p><h3>Debit</h3><p>Typically used for: prepaid calling cards.</p><ul data-start="73" xmlns=""><li>The balance shows the available funds on the account. Initially, the balance is equal to the “opening balance” (typically the prepaid amount), and decreases with every call made.<p> </p><p></p><p> </p></li><li>The account is unusable when the balance hits zero.<h3>Credit</h3><p>Typically used for: postpaid services.</p></li><li>Unlimited number of simultaneous sessions.<h4>Subordinate credit accounts</h4><p>In most cases, a customer makes a unified payment for all accounts and controls their own credit limit. Therefore, displaying the balance of individual accounts on the web interface is not necessary. </p><p> </p><p>The administrator operates with the customer’s balance only.</p><p> </p><p>Consider the following example: a company has several phone lines (accounts). The users make calls, and therefore, the balance for the whole company increases. At the end of the billing period the company receives a consolidated invoice showing activities from all the accounts and sends a single payment which covers and is then applied to all accounts. Therefore, the company’s balance decreases with one action.</p><p> </p><p><img src="../assets/images/PortaBilling_Admin_Guide_MR82_files/image32.png" width="461.5" height="242.6" alt="subordinate"/></p><h4>Credit accounts with individual credit limit</h4></li><li>The balance reflects how much the account owner owes you. It starts with zero and goes up every time a service is used (e.g. a call is made, or a message is sent), and decreases when a payment is received.</li></ul><p> </p><div align="left"><table border="0" cellspacing="0"><colgroup xmlns=""><col style="width:252px"/><col style="width:235.2px"/></colgroup><tbody><tr><td><p></p></td><td><p></p></td></tr></tbody></table></div><p> </p><ul data-start="77" xmlns=""><li>The account is unusable when the balance reaches the “credit limit”.</li><li>The balance can also be negative – this means you owe money to the account owner (e.g. the account owner has made a deposit). By setting the credit limit to zero you can provide “secured” services (as shown on the diagram above), in which case an  account owner can only use a service when there is a deposit remaining in his account.<h3><a id="_Hlk525545823"></a><a id="_Hlk525545810"></a>Voucher</h3><p>Typically used for: refill debit or credit accounts for a customer using the same account over a long time, e.g. ANI-based authentication.</p><p> </p><p>A voucher can be used to “recharge” (increase the available amount of) a credit or debit account. In this case, the balance of the voucher account is transferred to the main account. An account of this type cannot be used for any services such as making calls. Recharging may be done on the account self-care pages or via a special IVR script.</p><p>NOTE: End users can top up both a debit account and a credit account with an individual credit limit with a voucher that has a different product assigned. To top up an account with a sub-realm, a voucher must have the same sub-realm as the account being recharged.</p><h4>Vouchers with encrypted PINs</h4><p>Vouchers with encrypted PINs are composites. That is, they consist of visible voucher IDs and auto-generated passwords that are stored in encrypted form in the database. </p><p> </p><p>Making balance top-ups using vouchers with encrypted PINs is done the same way as when using ordinary vouchers. When a voucher PIN is entered (either via the web self-care interface or the IVR application), the system decrypts the password, validates the voucher PIN and modifies the balance. </p><p> </p><p><img src="../assets/images/PortaBilling_Admin_Guide_MR82_files/image33.gif" width="29.0" height="26.0" alt="Attention"/>Note that previously generated vouchers cannot be used because their IDs do not contain encrypted passwords. To enable their usage, set Yes for the AllowVouchersWithoutPassword option on the Configuration server. </p><p> </p><p>This enhancement enables service providers to introduce full voucher management within PortaBilling®, which additionally ensures business data security and complies with general system security demands.</p><h4>Account top-up using external vouchers</h4><p><a id="_Hlk506555990"></a>For the most part, ITSPs use PortaSwitch® as an all-in-one solution in which all services (service provisioning, account management, invoicing, etc.) are provided solely by PortaSwitch®. However, ITSPs that partner with suppliers of top-up vouchers may prefer to retain the business processes they have established with those suppliers, in which case the suppliers need to be integrated so they are recognized as part of the ITSP network.</p><p> </p><p>PortaBilling® supports integration with external top-up voucher storage systems and retains all voucher management processes already established with those systems. This allows ITSPs to provide customers both with vouchers generated internally (i.e., by PortaBilling®) and vouchers generated externally (i.e., by their voucher suppliers).</p><p> </p><p><img src="../assets/images/PortaBilling_Admin_Guide_MR82_files/image34.png" width="540.8" height="292.0" alt="Account top-up using external vouchers"/></p><p> </p><p>When an end user requests account top-up by voucher using the IVR application or the account self-care interface, the voucher is first checked against the PortaBilling® accounts. </p><p> </p><p>If the voucher is not found among the PortaBilling® accounts, it is considered external and the voucher number is sent to the external voucher storage system. There the voucher is checked for validity and the corresponding response is returned to PortaBilling®. The account balance is topped up based on the voucher face value and the voucher is marked as depleted on the external voucher storage system.</p><p>NOTE: <img src="../assets/images/PortaBilling_Admin_Guide_MR82_files/image35.png" width="38.4" height="38.4" alt="Wor1338"/>The use of external vouchers is enabled on the Configuration server web interface.</p><p>Note that for account top-up with external vouchers the currency of the voucher is assumed to be the same as that of the customer.</p><p> </p><p>Thus, by integrating external voucher storage systems with PortaBilling®, ITSPs are able to extend their partner relationships. Moreover, if their partners have large sales networks, integration may allow the ITSPs to leverage these networks to boost their own sales.</p><h3>Account batches</h3><p>Accounts can be grouped into batches. Each batch has its own descriptive name, giving you two ways to identify an account:</p></li><li>By account ID (this is usually some type of ID the customer uses to access the service, e.g. PIN number for calling cards or phone number for residential VoIP services);</li><li>By a combination of batch name and the account’s control number (a sequential number within the batch).<p> </p><p>When creating new accounts, you can either create them in a new batch or add them to an existing batch. In addition to better account tracking, this also permits easy modification of a large number of accounts. You can block or unblock, change the balance, or perform other operations for either the whole batch or a portion of the batch. Note that a batch always belongs to a customer, so you cannot mix different customers’ accounts within the same batch, and you cannot have two batches of the same name under two different customers.</p><p> </p><p>You can also create new accounts without assigning them to any batch (this is usually done if you expect to have just a few accounts under a customer). You can always assign a batch to these accounts later.</p><h3>Account life cycle</h3><p>An account may be created in the inactive state. This enables you to fully provision the entire service configuration for this account, yet the service can only be used once the account is activated.</p><p> </p><p>There are two parameters that define the life cycle of an account:</p></li><li>Every account has an activation date. This defines the date of the account first usage (e.g. you print Christmas promotion cards in November, but set the activation date for December 23rd so that no one can start using them earlier). Note that an account is activated on a specific day in the customer’s billing time zone – the time zone in which the customer’s billing periods close (e.g. if you are in Sydney and your customer is in New York, the Christmas promotion cards you have created will be activated on December 23rd New York time).</li><li>Expiration date defines the date after which the account can no longer be used. There are three options for setting it up:</li></ul><ul data-start="1.26" xmlns=""><li><ul data-start="1.26"><li>Specific Date – For instance, the administrator sets March 20th as the day of expiration, so the end user may use the services till 23:59 on March 19th. After that, the account is expired.</li><li>Account availability after the first use – The customer assigns how many days the services will be available for after the first use. For instance, the period for using the calling card service was defined as 30 days. An end user makes the first call on the 1st of March at 11:00 and uses the calling card daily. Therefore, the 30th of March 23:59 is the last time when the end user can use this calling card.</li><li>Account expiration after last use – The administrator assigns after how many days from the last use the services will be available for. For instance, this period equals 30 days. The end user makes his first call on the 21st of February. He also makes calls on the 23d, 25th of February and on the 1st of March at 11:00. Therefore, the 30th of March 23:59 is the last time when the end user can use this calling card.</li></ul></li></ul><p> </p><p>When configuring an account expiration date, either select one or combine several expiration options. They take equal priority: an account expires according to which event occurs first. Additionally, the expiration date is optional, so you may create accounts that have no expiration date.</p><p> </p><p>Another important point regarding expiration options is that a voucher recharge operation extends the life cycle of an account. Thus, if an account is adjusted to be available for 60 days after first use, and the account’s owner recharges the account 57 days after the date of its first use, the service is extended for another 60 days. The account recharge works analogically for account expiration after last use.</p><h3>Account aliases</h3><p>Sometimes it is desirable to provide multiple means of authentication for the same account; for instance, several phone numbers may be registered for PINless dialing to a single prepaid card. In this case, there will be a single account containing the actual balance and other billing information, and multiple account aliases associated with it. An alias serves as a link or pointer to the main account. When a customer uses an alias ID for authentication, PortaBilling® retrieves information about the main account and uses its balance, product and other parameters for all further operations.</p><p> </p><p></p><p> </p><p>As mentioned above, an alias gives you the ability to use the service via an additional identification, while still drawing on funds from the main account. In some cases you may want to restrict this ability; one typical example is DID forwarding in the case of the SIP trunking service. Here independent registrations for each additional alias created under the main account will be prevented (this is done by clearing the corresponding check box in the alias configuration or disabling the alias authentication option at the customer level). In this case, incoming calls to the alias will be routed to the main account. Outgoing calls using the alias cannot be made.</p></div></body></html>